{"version":3,"sources":["assets/img/logo.png","pages/Header/Topic.js","pages/Detail/Desc.js","pages/Detail/DownloadUrl.js","pages/Detail/Detail.js","index.js"],"names":["module","exports","Topic","gutter","xl","span","offset","xs","className","alt","src","require","Desc","desc","useContext","DescContext","DownloadUrl","DownMethods","videoUrL","handleDownCover","handleDownVideo","handleDownMusic","delay","key","onClick","style","marginRight","type","shape","icon","DownloadOutlined","Search","Input","createContext","Detail","useState","setvideoUrl","inputValue","setinputValue","cover","setCover","setDesc","music","setMusic","controls","setControls","isLoading","setisLoading","dateTime","Date","toGMTString","auth","signStr","sign","HmacSHA1","Base64","stringify","getAnalysis","axios","create","baseURL","timeout","headers","withCredentials","fileName","md","size","loading","placeholder","enterButton","onChange","e","target","value","handleOnChange","onSearch","post","url","then","res","data","dynamic_cover","analysis_video","err","message","error","Provider","saveAs","poster","Header","Layout","Footer","Content","DouYingAnalysis","useEffect","document","title","height","background","textAlign","paddingTop","color","marginTop","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d045f2b6.chunk.js","sourcesContent":["module.exports = \"https://sf1-cdn-tos.douyinstatic.com/obj/eden-cn/kpchkeh7upepld/fe_app_new/favicon_v2.ico\"","import React from 'react';\r\nimport { Row, Col } from 'antd';\r\nfunction Topic () {\r\n  return (\r\n    <Row gutter={10}>\r\n      <Col xl={{ span: 12, offset: 0 }} xs={{ span: 24 }} >\r\n        <div className='logo-center'>\r\n          <img className=\"logo\" alt=\"logo\" src={require('../../assets/img/logo.png')}></img>\r\n          <span className='logo-f'>抖音无水印解析</span>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Topic","import React, { useContext } from 'react'\r\nimport { DescContext } from './Detail'\r\nimport Texty from 'rc-texty';\r\nimport 'rc-texty/assets/index.css';\r\nfunction Desc () {\r\n  const desc = useContext(DescContext)\r\n  if (desc) {\r\n    return (\r\n      <Texty className=\"desc\">{desc}</Texty>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nexport default Desc","import React, { useContext } from 'react'\r\nimport { DownloadOutlined } from '@ant-design/icons'\r\nimport { Button } from 'antd'\r\nimport { DownMethods } from './Detail'\r\nimport QueueAnim from 'rc-queue-anim';\r\nfunction DownloadUrl () {\r\n  const { videoUrL, handleDownCover, handleDownVideo, handleDownMusic } = useContext(DownMethods)\r\n  if (videoUrL) {\r\n    return (\r\n      <QueueAnim delay={4}>\r\n        <div key=\"demo1\" className=\"download-url\">\r\n          <Button onClick={handleDownVideo} style={{ marginRight: '20px' }} type=\"primary\" shape=\"round\" icon={<DownloadOutlined />}>视频下载</Button>\r\n          <Button onClick={handleDownCover} style={{ marginRight: '20px' }} type=\"primary\" shape=\"round\" icon={<DownloadOutlined />}>封面下载</Button>\r\n          <Button onClick={handleDownMusic} type=\"primary\" shape=\"round\" icon={<DownloadOutlined />}>音乐下载</Button>\r\n        </div>\r\n      </QueueAnim>\r\n\r\n    )\r\n  }\r\n  return null\r\n}\r\nexport default DownloadUrl","import React, { useState, createContext } from 'react';\r\nimport { Input, Row, Col, message } from 'antd';\r\nimport Desc from './Desc';\r\nimport DownloadUrl from './DownloadUrl';\r\nimport axios from 'axios';\r\nimport HmacSHA1 from 'crypto-js/hmac-sha1';\r\nimport Base64 from 'crypto-js/enc-base64';\r\nimport { saveAs } from 'file-saver';\r\nconst { Search } = Input;\r\nfunction Detail () {\r\n  const [videoUrL, setvideoUrl] = useState('');\r\n  const [inputValue, setinputValue] = useState('');\r\n  const [cover, setCover] = useState('');\r\n  const [desc, setDesc] = useState('');\r\n  const [music, setMusic] = useState('');\r\n  const [controls, setControls] = useState('');\r\n  const [isLoading, setisLoading] = useState(false);\r\n  let nowDate = new Date();\r\n  let dateTime = nowDate.toGMTString();\r\n  const SecretId = \"AKIDd4q5rcpqAvAq2u05563zu7KOk82Os5Nnq1p\";\r\n  const SecretKey = \"Aa95lyhvdk30gjz0f6d1y55kSnd1S37u99bdg0p\";\r\n  const source = \"douyin\";\r\n  let auth = `hmac id=\"${SecretId}\", algorithm=\"hmac-sha1\", headers=\"x-date source\", signature=\"`;\r\n  let signStr = `x-date: ${dateTime}\\nsource: ${source}`;\r\n  let sign = HmacSHA1(signStr, SecretKey);\r\n  sign = Base64.stringify(sign);\r\n  sign = auth + sign + \"\\\"\";\r\n  let getAnalysis = axios.create({\r\n    baseURL: \"https://service-lio7hjuo-1251998888.gz.apigw.tencentcs.com:443\",\r\n    timeout: 5000,\r\n    headers: {\r\n      \"Source\": source,\r\n      \"X-Date\": dateTime,\r\n      \"Authorization\": sign\r\n    },\r\n    withCredentials: true\r\n  })\r\n  const handleOnChange = (e) => {\r\n    return setinputValue(e.target.value)\r\n  }\r\n  const getAnalysisVideo = () => {\r\n    setisLoading(true)\r\n    getAnalysis.post('/api/getAnalysisVideo', { url: inputValue }).then(res => {\r\n      setCover(res.data.data.dynamic_cover)\r\n      setvideoUrl(res.data.data.analysis_video)\r\n      setDesc(res.data.data.desc)\r\n      setMusic(res.data.data.music)\r\n      setControls('controls')\r\n      setisLoading(false)\r\n    }, err => {\r\n      setisLoading(false)\r\n      message.error('请输入正确的抖音网址')\r\n    })\r\n  }\r\n  const fileName = desc\r\n  const handleDownVideo = () => {\r\n    saveAs(videoUrL, fileName, 'video/mp4')\r\n  }\r\n  const handleDownCover = () => {\r\n    saveAs(cover, fileName, 'image/webp')\r\n  }\r\n  const handleDownMusic = () => {\r\n    saveAs(music, fileName, 'audio/mpeg')\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={{ span: '12', offset: '6' }} xs={{ span: '24', offset: '0' }}>\r\n        <div className=\"analysis-box\">\r\n          <Search size=\"middle\" loading={isLoading} placeholder=\"请输入要解析的抖音地址\" enterButton=\"开始解析\" onChange={(e) => handleOnChange(e)} value={inputValue} onSearch={getAnalysisVideo} />\r\n          <DescContext.Provider value={desc}>\r\n            <Desc />\r\n          </DescContext.Provider>\r\n          <DownMethods.Provider value={{ videoUrL: videoUrL, handleDownCover: handleDownCover, handleDownVideo: handleDownVideo, handleDownMusic: handleDownMusic }}>\r\n            <DownloadUrl />\r\n          </DownMethods.Provider>\r\n          <video poster={cover} src={videoUrL} controls={controls}></video>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport const DescContext = createContext();\r\nexport const DownMethods = createContext();\r\nexport default Detail;","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Layout } from 'antd';\r\nimport 'antd/dist/antd.less';\r\nimport Topic from './pages/Header/Topic';\r\nimport Detail from './pages/Detail/Detail'\r\nimport './assets/css/style.css';\r\nconst { Header, Footer, Content } = Layout;\r\nfunction DouYingAnalysis () {\r\n  useEffect(() => {\r\n    document.title = \"抖音无水印视频在线解析\"\r\n  })\r\n  return (\r\n    <>\r\n      <Layout className=\"layout\">\r\n        <Header style={{ height: '110px', background: '#161823' }}>\r\n          <Topic />\r\n        </Header>\r\n        <Content style={{ background: '#161823' }}>\r\n          <Detail></Detail>\r\n        </Content>\r\n        <Footer style={{ textAlign: 'center', background: '#0e0f1a', paddingTop: '50px', color: '#fff', marginTop: '10px' }}>©2020 本站仅供技术学习交流</Footer>\r\n      </Layout>\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <DouYingAnalysis />,\r\n  document.getElementById('root')\r\n)\r\n\r\n\r\n\r\n"],"sourceRoot":""}